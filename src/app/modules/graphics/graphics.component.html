<h2>{{ 'GRAPHICS' | translate }}</h2>
fuente: Datos abiertos del Ayuntamiento de MÃ¡laga
<em *ngIf="items?.length > 0 && isLoading" class="pi pi-spin pi-spinner blue"></em>
<ng-container *ngIf="items?.length > 0; else loading">
  <div class="p-grid">
    <div class="p-col-6 p-md-3 p-p-2" *ngFor="let item of items">
      <p-card [header]="item.nombre" styleClass="p-card-shadow">
        <p-chart type="doughnut" [data]="item.data" width="100%" height="10rem" [options]="options"></p-chart>
        <strong>{{ 'TOTAL' | translate }}</strong
        >: <span class="occupacy">{{ item.capacidad }}</span
        ><br />
        <strong>{{ 'FREE' | translate }}</strong
        >: <span class="free">{{ item.libres }}</span>
      </p-card>
    </div>
  </div>
</ng-container>
<ng-template #loading>
  <div class="p-grid">
    <div class="p-col-6 p-md-3 p-p-2" *ngFor="let i of [1, 2, 3, 4, 5, 6, 7, 8]">
      <p-skeleton styleClass="p-mb-2"></p-skeleton>
      <p-skeleton shape="circle" size="10rem"></p-skeleton>
      <p-skeleton width="10rem" styleClass="p-mb-2"></p-skeleton>
      <p-skeleton width="10rem" styleClass="p-mb-2"></p-skeleton>
    </div>
  </div>
</ng-template>
<ng-container *ngIf="dataset">
  <p-chart type="line" [data]="dataset" [options]="options"></p-chart>
</ng-container>
